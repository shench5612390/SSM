<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.mgskj.dao.TETEquipMapper">
    <cache eviction="LRU" flushInterval="100000" size="512"
           readOnly="true"/>
    <resultMap id="BaseResultMap" type="com.mgskj.model.TETEquip">
        <!-- WARNING - @mbggenerated This element is automatically generated by
            MyBatis Generator, do not modify. -->
        <id column="Id" property="id" jdbcType="CHAR"/>
        <result column="GroupId" property="groupid" jdbcType="CHAR"/>
        <result column="RegionId" property="regionid" jdbcType="CHAR"/>
        <result column="EquipName" property="equipname" jdbcType="NVARCHAR"/>
        <result column="EquipType" property="equiptype" jdbcType="INTEGER"/>
        <result column="PhysicalEquipType" property="physicalequiptype"
                jdbcType="INTEGER"/>
        <result column="RouteCode" property="routecode" jdbcType="NVARCHAR"/>
        <result column="Mile" property="mile" jdbcType="NVARCHAR"/>
        <result column="Channel" property="channel" jdbcType="INTEGER"/>
        <result column="ProducerCode" property="producercode" jdbcType="NVARCHAR"/>
        <result column="ProtocolId" property="protocolid" jdbcType="INTEGER"/>
        <result column="Ip" property="ip" jdbcType="NVARCHAR"/>
        <result column="Port" property="port" jdbcType="INTEGER"/>
        <result column="SerialPortNumber" property="serialportnumber"
                jdbcType="INTEGER"/>
        <result column="BaudRate" property="baudrate" jdbcType="INTEGER"/>
        <result column="Parity" property="parity" jdbcType="INTEGER"/>
        <result column="DataBits" property="databits" jdbcType="INTEGER"/>
        <result column="StopBits" property="stopbits" jdbcType="INTEGER"/>
        <result column="CameraId" property="cameraid" jdbcType="CHAR"/>
        <result column="IsDeleted" property="isdeleted" jdbcType="BIT"/>
        <result column="InUse" property="inuse" jdbcType="BIT"/>
        <result column="CreateDate" property="createdate" jdbcType="DATE"/>
        <result column="CreateTime" property="createtime" jdbcType="TIME"/>
    </resultMap>
    <resultMap id="RegionNameResultMap" type="com.mgskj.model.TRegionInfo">
        <!-- WARNING - @mbggenerated This element is automatically generated by
            MyBatis Generator, do not modify. -->
        <id column="Id" property="id" jdbcType="CHAR"/>
        <result column="RegionName" property="regionname" jdbcType="CHAR"/>
    </resultMap>
    <resultMap id="ETEquipResultMap" type="com.mgskj.bean.ETEquipResult">
        <!-- WARNING - @mbggenerated This element is automatically generated by
            MyBatis Generator, do not modify. -->
        <id column="Id" property="id" jdbcType="CHAR"/>
        <result column="RegionName" property="regionname" jdbcType="CHAR"/>
        <result column="RegionId" property="regionid" jdbcType="CHAR"/>
        <result column="RouteCode" property="routecode" jdbcType="NVARCHAR"/>
        <result column="CreateDate" property="createdate" jdbcType="DATE"/>
        <result column="CreateTime" property="createtime" jdbcType="TIME"/>
        <result column="EquipType" property="equiptype" jdbcType="INTEGER"/>
    </resultMap>
    <resultMap id="ResultMapWithBLOBs" type="com.mgskj.model.TETEquip"
               extends="BaseResultMap">
        <!-- WARNING - @mbggenerated This element is automatically generated by
            MyBatis Generator, do not modify. -->
        <result column="ConcurrencyToken" property="concurrencytoken"
                jdbcType="BINARY"/>
    </resultMap>
    <sql id="Base_Column_List">
        <!-- WARNING - @mbggenerated This element is automatically generated by
            MyBatis Generator, do not modify. -->
        Id, GroupId, RegionId, EquipName, EquipType, PhysicalEquipType,
        RouteCode, Mile,
        Channel, ProducerCode, ProtocolId, Ip, Port,
        SerialPortNumber, BaudRate,
        Parity,
        DataBits, StopBits, CameraId,
        IsDeleted, InUse, CreateDate, CreateTime
    </sql>
    <sql id="Region_Name_Column_List">
        <!-- WARNING - @mbggenerated This element is automatically generated by
            MyBatis Generator, do not modify. -->
        b.Id,b.RegionName
    </sql>
    <sql id="Blob_Column_List">
        <!-- WARNING - @mbggenerated This element is automatically generated by
            MyBatis Generator, do not modify. -->
        ConcurrencyToken
    </sql>
    <select id="selectByPrimaryKey" resultMap="ResultMapWithBLOBs"
            parameterType="java.lang.String">
        <!-- WARNING - @mbggenerated This element is automatically generated by
            MyBatis Generator, do not modify. -->
        select
        <include refid="Base_Column_List"/>
        ,
        <include refid="Blob_Column_List"/>
        from T_ET_Equip
        where Id = #{id,jdbcType=CHAR}
    </select>
    <select id="selectETEquip" resultMap="ETEquipResultMap"
            parameterType="java.lang.String">
        <!-- WARNING - @mbggenerated This element is automatically generated by
            MyBatis Generator, do not modify. -->
        select
        distinct
        a.RouteCode
        from
        T_ET_Equip
        a
        inner join
        T_RegionInfo b
        on a.RegionId = b.Id
        WHERE
        a.IsDeleted = 0 AND
        a.InUse = 1
        <if
                test="map.prefixLength != null and map.prefixLength != '' and map.regionCode != null and map.regionCode != ''">
            AND
            SUBSTRING(b.RegionCode,1,#{map.prefixLength})
            =
            SUBSTRING(#{map.regionCode,jdbcType=NCHAR},1,#{map.prefixLength})
        </if>
        order by a.RouteCode
    </select>
    <select id="selectRegionName" resultMap="RegionNameResultMap"
            parameterType="java.lang.String">
        <!-- WARNING - @mbggenerated This element is automatically generated by
            MyBatis Generator, do not modify. -->
        select
        <include refid="Region_Name_Column_List"/>
        FROM
        T_ET_Equip a
        INNER JOIN T_RegionInfo b ON a.RegionId = b.Id
        <if test="routeCode != null and routeCode != ''">
            where a.RouteCode = #{routeCode,jdbcType=CHAR}
        </if>
    </select>
    <select id="selectEquipName" resultMap="BaseResultMap"
            parameterType="java.lang.String">
        <!-- WARNING - @mbggenerated This element is automatically generated by
            MyBatis Generator, do not modify. -->
        select
        <include refid="Base_Column_List"/>
        from T_ET_Equip
        WHERE
        IsDeleted = 0 AND
        InUse = 1
        <if test="routeCode != null and routeCode != ''">
            AND
            RouteCode = #{routeCode,jdbcType=CHAR}
        </if>
        <if test="regionId != null and regionId != ''">
            AND CAST (RegionId AS VARCHAR(80)) =
            #{regionId,jdbcType=CHAR}
        </if>
    </select>
    <delete id="deleteByPrimaryKey" parameterType="java.lang.String">
        <!-- WARNING - @mbggenerated This element is automatically generated by
            MyBatis Generator, do not modify. -->
        delete from T_ET_Equip
        where Id = #{id,jdbcType=CHAR}
    </delete>
    <insert id="insert" parameterType="com.mgskj.model.TETEquip">
        <!-- WARNING - @mbggenerated This element is automatically generated by
            MyBatis Generator, do not modify. -->
        insert into T_ET_Equip (Id, GroupId, RegionId,
        EquipName, EquipType,
        PhysicalEquipType,
        RouteCode, Mile, Channel,
        ProducerCode, ProtocolId,
        Ip,
        Port, SerialPortNumber, BaudRate,
        Parity, DataBits, StopBits,
        CameraId, IsDeleted, InUse, CreateDate,
        CreateTime, ConcurrencyToken)
        values (#{id,jdbcType=CHAR}, #{groupid,jdbcType=CHAR},
        #{regionid,jdbcType=CHAR},
        #{equipname,jdbcType=NVARCHAR},
        #{equiptype,jdbcType=INTEGER}, #{physicalequiptype,jdbcType=INTEGER},
        #{routecode,jdbcType=NVARCHAR}, #{mile,jdbcType=NVARCHAR},
        #{channel,jdbcType=INTEGER},
        #{producercode,jdbcType=NVARCHAR},
        #{protocolid,jdbcType=INTEGER}, #{ip,jdbcType=NVARCHAR},
        #{port,jdbcType=INTEGER}, #{serialportnumber,jdbcType=INTEGER},
        #{baudrate,jdbcType=INTEGER},
        #{parity,jdbcType=INTEGER},
        #{databits,jdbcType=INTEGER}, #{stopbits,jdbcType=INTEGER},
        #{cameraid,jdbcType=CHAR}, #{isdeleted,jdbcType=BIT},
        #{inuse,jdbcType=BIT}, #{createdate,jdbcType=DATE},
        #{createtime,jdbcType=TIME}, #{concurrencytoken,jdbcType=BINARY})
    </insert>
    <insert id="insertSelective" parameterType="com.mgskj.model.TETEquip">
        <!-- WARNING - @mbggenerated This element is automatically generated by
            MyBatis Generator, do not modify. -->
        insert into T_ET_Equip
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="id != null">
                Id,
            </if>
            <if test="groupid != null">
                GroupId,
            </if>
            <if test="regionid != null">
                RegionId,
            </if>
            <if test="equipname != null">
                EquipName,
            </if>
            <if test="equiptype != null">
                EquipType,
            </if>
            <if test="physicalequiptype != null">
                PhysicalEquipType,
            </if>
            <if test="routecode != null">
                RouteCode,
            </if>
            <if test="mile != null">
                Mile,
            </if>
            <if test="channel != null">
                Channel,
            </if>
            <if test="producercode != null">
                ProducerCode,
            </if>
            <if test="protocolid != null">
                ProtocolId,
            </if>
            <if test="ip != null">
                Ip,
            </if>
            <if test="port != null">
                Port,
            </if>
            <if test="serialportnumber != null">
                SerialPortNumber,
            </if>
            <if test="baudrate != null">
                BaudRate,
            </if>
            <if test="parity != null">
                Parity,
            </if>
            <if test="databits != null">
                DataBits,
            </if>
            <if test="stopbits != null">
                StopBits,
            </if>
            <if test="cameraid != null">
                CameraId,
            </if>
            <if test="isdeleted != null">
                IsDeleted,
            </if>
            <if test="inuse != null">
                InUse,
            </if>
            <if test="createdate != null">
                CreateDate,
            </if>
            <if test="createtime != null">
                CreateTime,
            </if>
            <if test="concurrencytoken != null">
                ConcurrencyToken,
            </if>
        </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
            <if test="id != null">
                #{id,jdbcType=CHAR},
            </if>
            <if test="groupid != null">
                #{groupid,jdbcType=CHAR},
            </if>
            <if test="regionid != null">
                #{regionid,jdbcType=CHAR},
            </if>
            <if test="equipname != null">
                #{equipname,jdbcType=NVARCHAR},
            </if>
            <if test="equiptype != null">
                #{equiptype,jdbcType=INTEGER},
            </if>
            <if test="physicalequiptype != null">
                #{physicalequiptype,jdbcType=INTEGER},
            </if>
            <if test="routecode != null">
                #{routecode,jdbcType=NVARCHAR},
            </if>
            <if test="mile != null">
                #{mile,jdbcType=NVARCHAR},
            </if>
            <if test="channel != null">
                #{channel,jdbcType=INTEGER},
            </if>
            <if test="producercode != null">
                #{producercode,jdbcType=NVARCHAR},
            </if>
            <if test="protocolid != null">
                #{protocolid,jdbcType=INTEGER},
            </if>
            <if test="ip != null">
                #{ip,jdbcType=NVARCHAR},
            </if>
            <if test="port != null">
                #{port,jdbcType=INTEGER},
            </if>
            <if test="serialportnumber != null">
                #{serialportnumber,jdbcType=INTEGER},
            </if>
            <if test="baudrate != null">
                #{baudrate,jdbcType=INTEGER},
            </if>
            <if test="parity != null">
                #{parity,jdbcType=INTEGER},
            </if>
            <if test="databits != null">
                #{databits,jdbcType=INTEGER},
            </if>
            <if test="stopbits != null">
                #{stopbits,jdbcType=INTEGER},
            </if>
            <if test="cameraid != null">
                #{cameraid,jdbcType=CHAR},
            </if>
            <if test="isdeleted != null">
                #{isdeleted,jdbcType=BIT},
            </if>
            <if test="inuse != null">
                #{inuse,jdbcType=BIT},
            </if>
            <if test="createdate != null">
                #{createdate,jdbcType=DATE},
            </if>
            <if test="createtime != null">
                #{createtime,jdbcType=TIME},
            </if>
            <if test="concurrencytoken != null">
                #{concurrencytoken,jdbcType=BINARY},
            </if>
        </trim>
    </insert>
    <update id="updateByPrimaryKeySelective" parameterType="com.mgskj.model.TETEquip">
        <!-- WARNING - @mbggenerated This element is automatically generated by
            MyBatis Generator, do not modify. -->
        update T_ET_Equip
        <set>
            <if test="groupid != null">
                GroupId = #{groupid,jdbcType=CHAR},
            </if>
            <if test="regionid != null">
                RegionId = #{regionid,jdbcType=CHAR},
            </if>
            <if test="equipname != null">
                EquipName = #{equipname,jdbcType=NVARCHAR},
            </if>
            <if test="equiptype != null">
                EquipType = #{equiptype,jdbcType=INTEGER},
            </if>
            <if test="physicalequiptype != null">
                PhysicalEquipType =
                #{physicalequiptype,jdbcType=INTEGER},
            </if>
            <if test="routecode != null">
                RouteCode = #{routecode,jdbcType=NVARCHAR},
            </if>
            <if test="mile != null">
                Mile = #{mile,jdbcType=NVARCHAR},
            </if>
            <if test="channel != null">
                Channel = #{channel,jdbcType=INTEGER},
            </if>
            <if test="producercode != null">
                ProducerCode = #{producercode,jdbcType=NVARCHAR},
            </if>
            <if test="protocolid != null">
                ProtocolId = #{protocolid,jdbcType=INTEGER},
            </if>
            <if test="ip != null">
                Ip = #{ip,jdbcType=NVARCHAR},
            </if>
            <if test="port != null">
                Port = #{port,jdbcType=INTEGER},
            </if>
            <if test="serialportnumber != null">
                SerialPortNumber = #{serialportnumber,jdbcType=INTEGER},
            </if>
            <if test="baudrate != null">
                BaudRate = #{baudrate,jdbcType=INTEGER},
            </if>
            <if test="parity != null">
                Parity = #{parity,jdbcType=INTEGER},
            </if>
            <if test="databits != null">
                DataBits = #{databits,jdbcType=INTEGER},
            </if>
            <if test="stopbits != null">
                StopBits = #{stopbits,jdbcType=INTEGER},
            </if>
            <if test="cameraid != null">
                CameraId = #{cameraid,jdbcType=CHAR},
            </if>
            <if test="isdeleted != null">
                IsDeleted = #{isdeleted,jdbcType=BIT},
            </if>
            <if test="inuse != null">
                InUse = #{inuse,jdbcType=BIT},
            </if>
            <if test="createdate != null">
                CreateDate = #{createdate,jdbcType=DATE},
            </if>
            <if test="createtime != null">
                CreateTime = #{createtime,jdbcType=TIME},
            </if>
            <if test="concurrencytoken != null">
                ConcurrencyToken = #{concurrencytoken,jdbcType=BINARY},
            </if>
        </set>
        where Id = #{id,jdbcType=CHAR}
    </update>
    <update id="updateByPrimaryKeyWithBLOBs" parameterType="com.mgskj.model.TETEquip">
        <!-- WARNING - @mbggenerated This element is automatically generated by
            MyBatis Generator, do not modify. -->
        update T_ET_Equip
        set GroupId = #{groupid,jdbcType=CHAR},
        RegionId =
        #{regionid,jdbcType=CHAR},
        EquipName = #{equipname,jdbcType=NVARCHAR},
        EquipType = #{equiptype,jdbcType=INTEGER},
        PhysicalEquipType =
        #{physicalequiptype,jdbcType=INTEGER},
        RouteCode =
        #{routecode,jdbcType=NVARCHAR},
        Mile = #{mile,jdbcType=NVARCHAR},
        Channel = #{channel,jdbcType=INTEGER},
        ProducerCode =
        #{producercode,jdbcType=NVARCHAR},
        ProtocolId =
        #{protocolid,jdbcType=INTEGER},
        Ip = #{ip,jdbcType=NVARCHAR},
        Port =
        #{port,jdbcType=INTEGER},
        SerialPortNumber =
        #{serialportnumber,jdbcType=INTEGER},
        BaudRate =
        #{baudrate,jdbcType=INTEGER},
        Parity = #{parity,jdbcType=INTEGER},
        DataBits = #{databits,jdbcType=INTEGER},
        StopBits =
        #{stopbits,jdbcType=INTEGER},
        CameraId = #{cameraid,jdbcType=CHAR},
        IsDeleted = #{isdeleted,jdbcType=BIT},
        InUse = #{inuse,jdbcType=BIT},
        CreateDate = #{createdate,jdbcType=DATE},
        CreateTime =
        #{createtime,jdbcType=TIME},
        ConcurrencyToken =
        #{concurrencytoken,jdbcType=BINARY}
        where Id = #{id,jdbcType=CHAR}
    </update>
    <update id="updateByPrimaryKey" parameterType="com.mgskj.model.TETEquip">
        <!-- WARNING - @mbggenerated This element is automatically generated by
            MyBatis Generator, do not modify. -->
        update T_ET_Equip
        set GroupId = #{groupid,jdbcType=CHAR},
        RegionId =
        #{regionid,jdbcType=CHAR},
        EquipName = #{equipname,jdbcType=NVARCHAR},
        EquipType = #{equiptype,jdbcType=INTEGER},
        PhysicalEquipType =
        #{physicalequiptype,jdbcType=INTEGER},
        RouteCode =
        #{routecode,jdbcType=NVARCHAR},
        Mile = #{mile,jdbcType=NVARCHAR},
        Channel = #{channel,jdbcType=INTEGER},
        ProducerCode =
        #{producercode,jdbcType=NVARCHAR},
        ProtocolId =
        #{protocolid,jdbcType=INTEGER},
        Ip = #{ip,jdbcType=NVARCHAR},
        Port =
        #{port,jdbcType=INTEGER},
        SerialPortNumber =
        #{serialportnumber,jdbcType=INTEGER},
        BaudRate =
        #{baudrate,jdbcType=INTEGER},
        Parity = #{parity,jdbcType=INTEGER},
        DataBits = #{databits,jdbcType=INTEGER},
        StopBits =
        #{stopbits,jdbcType=INTEGER},
        CameraId = #{cameraid,jdbcType=CHAR},
        IsDeleted = #{isdeleted,jdbcType=BIT},
        InUse = #{inuse,jdbcType=BIT},
        CreateDate = #{createdate,jdbcType=DATE},
        CreateTime =
        #{createtime,jdbcType=TIME}
        where Id = #{id,jdbcType=CHAR}
    </update>
</mapper>